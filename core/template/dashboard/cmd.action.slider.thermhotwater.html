<div class="cmd cmd-widget" data-type="action" data-subtype="slider" data-cmd_id="#id#" data-cmd_uid="#uid#">
 <template>
        <div>FgColor : couleur du curseur (par défaut '#FFFFFF')</div>
        <div>BgColor : couleur de fond (par défaut '#000000')</div>
  </template>
  <div class="title #hide_name#">
		<div class="cmdName">#name_display#</div>
	</div>
	<div class="content">
		<div style="margin-top:10px;">
			<span id="iconCmd#uid#" class="pull-left" style="position : relative;top: 10px;font-size: 6em;height:100px;"></span>
            <input type="text" class="dial" value="#state#" 
            style="padding : 0px !important" 
            data-min="#minValue#" data-max="#maxValue#" 
            data-width="100" data-height="100"/>
        <div style="position: relative; top: -20px; left : 60px;">
            #unite#
        </div>
    </div>
	</div>
    <script>
		jeedom.cmd.addUpdateFunction('#id#', function(_options) {
           
            if (parseInt(_options.display_value) > 60) {
                $('#iconCmd#uid#').empty().append('<i class="icon icon_red jeedom-thermo-chaud"></i>');
            }
            if (parseInt(_options.display_value) >= 54 && parseInt(_options.display_value) <= 60) {
                 $('#iconCmd#uid#').empty().append('<i class="icon icon_orange jeedom-thermo-moyen"></i>');
            }
            if (parseInt(_options.display_value) < 54) {
                $('#iconCmd#uid#').empty().append('<i class="icon icon_blue jeedom-thermo-froid"></i>');
        }
        })
        $.include(['plugins/cozytouch/core/template/dashboard/cmd.action.slider/jquery.kontrol.js'], function() {
				FgColor#id# = '#FFFFFF',
				BgColor#id# = '#000000',
				FgColor#id# = ('#FgColor#' != '#' + 'FgColor#') ? "#FgColor#" : FgColor#id#;
				BgColor#id# = ('#BgColor#' != '#' + 'BgColor#') ? "#BgColor#" : BgColor#id#;
        $(".cmd[data-cmd_uid=#uid#] .dial").dial({
				fgColor: FgColor#id#,
				bgColor: BgColor#id#,
                noScroll: true,
                release: function(v) {
                    jeedom.cmd.execute({id: '#id#', value: {slider: v}});
                },
                draw : function(){
                    setTimeout(function() {
                    $(".cmd[data-cmd_uid=#uid#] .dial").css('margin-top', '0px');
                    setTimeout(function() {
                            $(".cmd[data-cmd_uid=#uid#] .dial").css('margin-top', '33px');
                        }, 100);
                        }, 200);
                }
            });
        });
		jeedom.cmd.refreshValue([{ cmd_id: '#id#', value: '#state#', display_value: '#state#', valueDate: '#valueDate#', collectDate: '#collectDate#', alertLevel: '#alertLevel#', unit: '#unite#' }])
    </script>
</div>
